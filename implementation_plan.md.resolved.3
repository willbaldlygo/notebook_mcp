# NotebookLM Client Implementation Plan

## Goal
Enable "Antigravity" to query the user's Google NotebookLM notebooks by replicating the browser automation and cookie injection strategy from the `notebooklm-skill` repository.

## Safety & Security Note
> [!IMPORTANT]
> **Safety**: This process is safe because:
> 1.  **Local Execution**: The script runs entirely on your local machine. No credentials or cookies are ever sent to me (the AI) or any external server.
> 2.  **User Control**: You log in manually through Google's official login page. The script merely saves the "session cookie" locally so it can use it later.
> 3.  **Browser Control**: You are correct that I can launch and control a browser. That is exactly what this script doesâ€”it uses Playwright (a browser automation tool) to launch a controllable Chrome instance. This script is simply the "driver" I use to perform that action on your local machine.

## User Review Required
> [!NOTE]
> **One-Time Interactive Login**: This setup script will launch that controllable Chrome window. You log in once, and the script saves the session state so that future, headless (invisible) runs can work automatically.

## Proposed Changes

### [NEW] `auth_setup.py`
Create a Python script to handle the one-time authentication:
1.  Launch a **visible** (non-headless) Playwright browser.
2.  Navigate to `https://notebooklm.google.com/`.
3.  Wait for the user to log in interactively.
4.  Once the URL indicates a successful login (or user presses Enter in terminal), capture the storage state (cookies + local storage).
5.  Save to `notebooklm_auth.json`.

### [NEW] `notebooklm_client.py`
Create a Python script that uses the saved `notebooklm_auth.json` to:
1.  Launch a **headless** browser context.
2.  Load state from `notebooklm_auth.json`.
3.  Navigate to the Notebook URL.
4.  Interact with the query interface.


## Verification Plan

### User Verification
1.  **Run Setup**: Run `python3 auth_setup.py`.
2.  **Action**: A Chrome window opens. Log in to your Google account.
3.  **Result**: Script saves `notebooklm_auth.json`.
4.  **Run Query**: Run `python3 notebooklm_client.py --url "..." --question "..."`.
5.  **Success**: Script returns answer without asking for login.
